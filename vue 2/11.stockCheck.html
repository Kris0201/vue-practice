<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>stock check</title>
</head>

<body>
    <div id="app">
        <!-- <h2>{{product}} are in stock</h2> -->
        <ul>
            <li v-for="item in product">{{item.name}}
                <input type="number" v-model.number="item.quantity">
                <!-- 直接輸入數量並即時產生畫面, .number要求輸入值為數值 -->
                <span v-if="item.quantity === 0">- out of stock</span>
                <button @click="item.quantity+=1">add</button>
            </li>
        </ul>
        <!-- span一定要包在li中,否則會讀不到item的定義 -->
        <h2>total inventory:{{totalProducts}}</h2>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/vue@2"></script>
    <script>
        //
        //

        //使用computed寫法：
        const app = new Vue({
            el: '#app',
            data: {
                product: [
                    {
                        name: 'Boots',
                        quantity: 3
                    },
                    {
                        name: 'Shoes',
                        quantity: 0
                    },
                    {
                        name: 'Socks',
                        quantity: 7
                    }
                ]
            },
            computed: {
                totalProducts() {
                    return this.product.reduce((sum, item) => {
                        return sum + item.quantity
                    }, 0)
                }
            }

            /*arr.reduce(callback[accumulator, currentValue, currentIndex, array], initialValue)
            
            callback用於處理陣列中每個元素的函式，可傳入四個參數:
            1. accumulator（此例中的sum):用來累積回呼函式回傳值的累加器（accumulator）或 initialValue（若有提供的話）。累加器是上一次呼叫後，所回傳的累加數值。
            2. currentValue（此例中的item):原陣列目前所迭代處理中的元素。
            3. 其餘為選擇性資訊
            4. initialValue選擇性
            於第一次呼叫 callback 時要傳入的累加器初始值。若沒有提供初始值，則原陣列的第一個元素將會被當作初始的累加器。假如於一個空陣列呼叫 reduce() 方法且沒有提供累加器初始值，將會發生錯誤。
            */
        })





    </script>
</body>

</html>